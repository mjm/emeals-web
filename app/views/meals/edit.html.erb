<header id="edit_meal_header">
  <div>
    <h2>Edit this Meal</h2>
  </div>
</header>

<article id="edit_meal">
  <%= meal_form_for meal_form, url: meal_url(meal_form.meal), method: :put, html: {class: 'custom'} do |f| %>
    <div class="row">
      <aside class="side_fields">
        <div class="row">
          <%= f.label :rating, "Rating", class: 'inline column large-3' %>
          <%= f.range_field :rating, step: 1, min: 0, max: 5 %>
          <div class="rateit" data-rateit-backingfld="#meal_rating"></div>
        </div>
        <fieldset>
          <legend>Flags</legend>
          <%= f.flag_fields %>
        </fieldset>
        <fieldset>
          <legend>Times</legend>
          <%= f.label :prep_time, "Prep Time" %>
          <%= f.time_fields :prep %>
          <%= f.label :cook_time, "Cook Time" %>
          <%= f.time_fields :cook %>
          <%= f.label :total_time, "Total Time" %>
          <%= f.time_fields :total %>
        </fieldset>
      </aside>
      <section class="recipe_content">
        <div data-section="auto">
          <%= section :entree, class: 'entree' do |s| %>
            <% s.title class: 'title' do %>Entree<% end %>
            <% s.content class: 'content' do %>
              <%= f.fields_for :entree do |entree| %>
                <%= entree.label :name, "Entree Name" %>
                <%= entree.text_field :name %>
                <label>Ingredients</label>
                <%= entree.fields_for :ingredients do |ing| %>
                  <div class="ingredient">
                    <div class="amount_field"><%= ing.text_field :amount %></div>
                    <div class="unit_field"><%= ing.unit_field %></div>
                    <div class="description_field"><%= ing.text_field :description %></div>
                  </div>
                <% end %>
                <%= entree.label :instructions, "Instructions" %>
                <%= entree.text_area :instructions %>
              <% end %>
            <% end %>
          <% end %>
          <%= section :side, class: 'side' do |s| %>
            <% s.title class: 'title' do %>Side<% end %>
            <% s.content class: 'content' do %>
              <%= f.fields_for :side do |side| %>
                <%= side.label :name, "Side Name" %>
                <%= side.text_field :name %>
                <%= side.label :instructions, "Instructions" %>
                <%= side.text_area :instructions %>
              <% end %>
            <% end %>
          <% end %>
        </div>
      </section>
    </div>
    <%= f.submit "Save Meal Changes" %>
  <% end %>
</article>
